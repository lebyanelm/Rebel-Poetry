(this["webpackJsonprebbelpoetry.github.io"]=this["webpackJsonprebbelpoetry.github.io"]||[]).push([[0],{141:function(e,t){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(60),i=n.n(s),r=(n(92),n.p+"static/media/logo.6597611f.svg"),c=n(44),l=n.n(c),d=n(16),b=n.n(d),j=n(11),u=n(3),h=n(6),_=n(0),m=o.a.createContext({}),P=function(e){var t=e.children,n=o.a.useState(),a=Object(h.a)(n,2),s=a[0],i=a[1];return Object(_.jsx)(m.Provider,{value:{userSession:s,setUserSession:i},children:t})},O=function(){return o.a.useContext(m)},p=o.a.createContext({}),x=function(e){var t=e.children,n=o.a.useState({state:!1,handler:function(){return null}}),a=Object(h.a)(n,2),s=a[0],i=a[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"backlight",style:{display:s.state?"block":"none"},onClick:function(){i({state:!1,handler:function(){return null}}),s.handler()}}),Object(_.jsx)(p.Provider,{value:{isBacklightVisible:s,setIsBacklightVisible:i},children:t})]})},f=function(e){var t=e.userSession,n=e.location,a=o.a.useState(!1),s=Object(h.a)(a,2),i=s[0],r=s[1],c=o.a.useContext(p).setIsBacklightVisible,l=function(){r(!i),c({state:!i,handler:function(){r(!1)}})};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"dropdown-options-backlight"}),Object(_.jsx)("div",{className:"clickable",children:Object(_.jsxs)("div",{className:["navigation-item dropdown flex","/sign_in"===n.pathname||"/sign_up"===n.pathname?"active":"inactive"].join(" "),children:[Object(_.jsxs)("section",{onClick:function(){return l()},children:[Object(_.jsx)("div",{className:"avatar small-avatar",style:{marginRight:"5px",backgroundImage:"url(".concat(t.display_photo,")")}}),Object(_.jsx)("span",{children:null===t||void 0===t?void 0:t.display_name}),Object(_.jsx)(b.a,{style:{marginLeft:"5px",transform:"translateY(2px)"},name:"chevron-down"})]}),Object(_.jsxs)("div",{className:"dropdown-options",style:{display:i?"block":"none"},children:[Object(_.jsx)("section",{children:Object(_.jsxs)(u.b,{to:"/poet/me",children:["Signed in as ",Object(_.jsx)("b",{children:null===t||void 0===t?void 0:t.display_name})]})}),Object(_.jsxs)("section",{children:[Object(_.jsx)(u.b,{to:"/poet/me",children:"Your Public Poems"}),Object(_.jsx)(u.b,{to:"",children:"Your Anonymous Poems"}),Object(_.jsx)(u.b,{to:"",children:"Your Bookmarked poems"}),Object(_.jsx)(u.b,{to:"",children:"Your Collaborations and Features"}),Object(_.jsx)(u.b,{to:"",children:"Your Unpublished Drafts"}),Object(_.jsx)(u.b,{to:"",children:"Your Notifications"})]}),Object(_.jsxs)("section",{children:[Object(_.jsx)(u.b,{className:"",to:"",children:"Edit your profile"}),Object(_.jsx)(u.b,{className:"danger",to:"",children:"Sign out"})]})]})]})})]})};f.defaultProps={};var g=f,N=function(){var e=Object(j.h)(),t=O().userSession;return Object(_.jsxs)("div",{className:l.a.HeaderContainer,children:[Object(_.jsxs)("a",{href:"https://patreon.com/@rebelpoetry",target:"_blank",rel:"noreferrer",className:l.a.Banner,children:["We need your support to keep the site functional and available \u2014 Become a contributor",Object(_.jsx)(b.a,{name:"arrow-forward"})]}),Object(_.jsxs)("div",{className:l.a.Header,children:[Object(_.jsx)(u.b,{to:"/",className:l.a.HeaderBrandLogo,children:Object(_.jsx)("img",{src:r,alt:""})}),Object(_.jsxs)("section",{children:[t&&Object(_.jsx)(u.b,{to:"/new_poem",children:Object(_.jsx)("div",{className:["navigation-item","/new_poem"===e.pathname?"active":"inactive"].join(" "),children:"Publish New"})}),Object(_.jsx)(u.b,{to:"/discover",children:Object(_.jsx)("div",{className:["navigation-item","/discover"===e.pathname?"active":"inactive"].join(" "),children:"Discover"})}),Object(_.jsx)(u.b,{to:"/rebbels",children:Object(_.jsx)("div",{className:["navigation-item",e.pathname.includes("/rebels")?"active":"inactive"].join(" "),children:"Rebbel Poets"})}),t&&Object(_.jsx)(u.b,{to:"/your_drafts",children:Object(_.jsx)("div",{className:["navigation-item","/your_drafts"===e.pathname?"active":"inactive"].join(" "),children:"Your Drafts"})}),Object(_.jsx)(u.b,{to:"/feeling_lucky",children:Object(_.jsx)("div",{className:["navigation-item","/feeling_lucky"===e.pathname?"active":"inactive"].join(" "),children:"Feeling Lucky"})}),Object(_.jsx)(u.b,{to:"/search",children:Object(_.jsx)("div",{className:["navigation-item","/search"===e.pathname?"active":"inactive"].join(" "),children:"Search"})})]}),Object(_.jsx)("div",{className:"flex-space"}),Object(_.jsxs)("section",{children:[!t&&Object(_.jsx)(u.b,{to:"/sign_up",children:Object(_.jsx)("div",{className:"navigation-item button",children:"Become a Rebbel"})}),t&&Object(_.jsx)(g,{userSession:t,location:e}),!t&&Object(_.jsx)(u.b,{to:"/sign_in",children:Object(_.jsx)("div",{className:["navigation-item","/sign_in"===e.pathname?"active":"inactive"].join(" "),children:"Sign In"})})]})]})]})},v=n(8),S=n(21),T=n(50),E=n(33),A=n(36),C=n(29),y=n.n(C),R=n(73),D=(a.Component,n(38)),I=n.n(D),w=n(10),k=n(12),H={getPoemData:function(e){return new Promise((function(t,n){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"poems",e].join("/")).end((function(e,a){H.respond(a,t,n)}))}))},getPoemAuthors:function(e){return new Promise((function(t,n){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"authors",e].join("/")).end((function(e,a){console.log("response",a),H.respond(a,t,n)}))}))},getUnauthenticatedFeed:function(){return new Promise((function(e,t){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"poems","feed"].join("/")).end((function(n,a){H.respond(a,e,t)}))}))},updateDraft:function(e,t){return new Promise((function(n,a){k.post([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"drafts"].join("/")).send(Object(w.a)({},e)).set("Authorization",t).end((function(e,t){H.respond(t,n,a)}))}))},getDraft:function(e,t){return new Promise((function(n,a){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"drafts",e].join("/")).set("Authorization",t).end((function(e,t){H.respond(t,n,a)}))}))},uploadThumbnail:function(e,t){return new Promise((function(n,a){k.put([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"assets","upload"].join("/")).set("Authorization",t).attach("file",e).end((function(e,t){H.respond(t,n,a)}))}))},publish:function(e,t,n){return new Promise((function(a,o){k.post([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"publish",e.did].join("/")).set("Authorization",n).send({tags:t.split(","),is_anonymous:e.is_anonymous}).end((function(e,t){H.respond(t,a,o)}))}))},respond:function(e,t,n){e?200===e.statusCode?t(e.body.data):n(e.body.reason||"Something went wrong."):n("No internet connection. Please connect your device and try again.")}},L=function(e){var t,n=e.data,a=e.isDraft,s=o.a.useState([]),i=Object(h.a)(s,2),r=i[0],c=i[1];return o.a.useEffect((function(){void 0!==n.author?H.getPoemAuthors([n.author].concat(Object(v.a)(n.featured_poets))).then((function(e){c([].concat(Object(v.a)(r),Object(v.a)(e)))})):c([a?{display_name:"Myself",username:"me"}:{display_name:"Anonymous",username:"anonymous"}])}),[]),Object(_.jsx)("div",{className:I.a.Poem,style:{backgroundImage:"url(".concat(n.thumbnail,")")},children:Object(_.jsxs)("div",{className:I.a.PoemContents,children:[Object(_.jsx)(u.b,{className:I.a.PoemTitle,to:a?"/new_poem?draft_id=".concat(n.did):"/poem/".concat(n._id),children:n.title}),Object(_.jsxs)("span",{className:I.a.PoemAuthor,children:["Written by ",Object(_.jsx)(u.b,{to:"/rebbels/@me",children:r.length?r[0].display_name:"Loading..."})]}),Object(_.jsx)("span",{className:I.a.PoemSnapshot,children:(t=n.description?n.description:n.body,(t=t.split(" ")).length>40&&(t=t.slice(0,25)),t.join(" ")+"...")})]})})},B=n(74),F=n.n(B),W=function(e){var t=e.feed,n=e.isDrafts;return Object(_.jsx)("div",{className:F.a.PoemsGrid,children:t.map((function(e){return Object(_.jsx)(L,{data:e,isDraft:n})}))})},U=function(e,t){return new Promise((function(n,a){try{t&&t.constructor!==String&&(t=t.constructor===Array||t.constructor===Object?JSON.stringify(t,null,2):t.toString()),localStorage.setItem(e,t),n([e,t])}catch(o){console.error(o),a("Something went wrong while saving data")}}))},K=function(e){return new Promise((function(t,n){try{localStorage.removeItem(e),t()}catch(a){console.error(a),n(a)}}))},V=o.a.createContext({}),M=function(e){var t=e.children,n=o.a.useState(localStorage.getItem("AUTH_TOKEN")),a=Object(h.a)(n,2),s=a[0],i=a[1];return Object(_.jsx)(V.Provider,{value:{userToken:s,setUserToken:i},children:t})},Y=function(){return o.a.useContext(V)},z=n(45),G=n.n(z),q=function(){return Object(_.jsx)("div",{className:G.a.Loader,"data-testid":"Loader",children:Object(_.jsxs)("svg",{width:"84",height:"60",viewBox:"0 0 84 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{className:G.a.FirstCircle,d:"M0 30C0 13.4315 13.4315 0 30 0V0C46.5685 0 60 13.4315 60 30V30C60 46.5685 46.5685 60 30 60V60C13.4315 60 0 46.5685 0 30V30Z"}),Object(_.jsx)("g",{className:G.a.BlendGroup,children:Object(_.jsx)("rect",{className:G.a.SecondCircle,x:"24",width:"60",height:"60",rx:"30",fill:"#1436AD"})})]})})},Z=o.a.createContext({}),Q=function(e){var t=e.children,n=o.a.useState(!0),a=Object(h.a)(n,2),s=a[0],i=a[1];return Object(_.jsxs)(Z.Provider,{value:{isLoaderVisible:s,setIsLoaderVisible:i},children:[Object(_.jsx)("div",{className:"loader-container","data-isvisible":s,children:Object(_.jsx)(q,{})}),t]})},J=function(){return o.a.useContext(Z)},X=n(63),$=n.n(X),ee=function(e){var t=e.text,n=e.isShowClose,a=e.closeToast;return Object(_.jsxs)("div",{className:$.a.Toast,"data-testid":"Toast",children:[Object(_.jsx)("span",{children:t}),n&&Object(_.jsx)("div",{className:$.a.CloseButton,onClick:a,children:"Close"})]})},te=o.a.createContext({}),ne=function(e){var t=e.children,n=o.a.useState(null),a=Object(h.a)(n,2),s=a[0],i=a[1],r=o.a.useState(!1),c=Object(h.a)(r,2),l=c[0],d=c[1];return Object(_.jsxs)(te.Provider,{value:{showToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;i(e),t>3e3&&(d(!0),i("Showing close button")),setTimeout((function(){i(null),d(!1)}),t)},isShowClose:l},children:[t,s&&Object(_.jsx)(ee,{text:s,isShowClose:l,closeToast:function(){return i(null)}})]})},ae=function(){return o.a.useContext(te)},oe=function(){var e=Y().userToken,t=(ae().showToast,J().setIsLoaderVisible),n=o.a.useState([]),s=Object(h.a)(n,2),i=s[0],r=s[1];return Object(a.useEffect)((function(){document.title=["Rebbel Poetry","Discover"].join(": "),t(!0),e&&H.getUnauthenticatedFeed().then((function(e){t(!1),r([].concat(Object(v.a)(i),Object(v.a)(e)))}))}),[]),Object(_.jsx)(o.a.Fragment,{children:Object(_.jsxs)("div",{className:"page-container",children:[Object(_.jsx)("h1",{children:"Discover"}),Object(_.jsx)(W,{feed:i})]})})},se=n(75),ie=n.n(se),re=function(){return Object(a.useEffect)((function(){document.title=["Rebbel Poetry","Page Not Found"].join(": ")}),[]),Object(_.jsx)("div",{className:"page-container",style:{transform:"translateY(-100px)"},children:Object(_.jsx)("div",{className:ie.a.NotFoundPage,"data-testid":"NotFoundPage",children:Object(_.jsxs)("section",{children:[Object(_.jsx)("h1",{children:"Opps, for the one who's lost \u2014 this is a dead-end!"}),Object(_.jsxs)("p",{children:["You seem to have fallen off the wagon. Trace your way ",Object(_.jsx)(u.b,{to:"/",children:"back to home."})]})]})})})},ce=n(53),le=n.n(ce),de=function(e){var t=e.poet;return Object(_.jsxs)("a",{className:le.a.Poet,href:["/rebbels/@",t.username].join(""),children:[Object(_.jsx)("div",{className:le.a.PoetAvatar,style:{}}),Object(_.jsx)("div",{className:"PoetDetails",children:Object(_.jsx)("b",{className:le.a.PoetName,children:t.display_name.split(" ")[0]})})]})},be=n(76),je=n.n(be),ue=n(52),he=n.n(ue),_e=function(){var e=o.a.useState([]),t=Object(h.a)(e,2),n=t[0],s=t[1],i=o.a.useState([]),r=Object(h.a)(i,2),c=r[0],l=r[1],d=O().userSession,b=Object(j.g)(),u=J().setIsLoaderVisible,m=he.a.parse(b.location.search,{ignoreQueryPrefix:!0}),P=o.a.useState(m),p=Object(h.a)(P,2),x=p[0],f=p[1],g=o.a.useState(""),N=Object(h.a)(g,2),v=N[0],S=N[1],T=o.a.useCallback((function(){u(!0),S(""),k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"rebbels?limit=10&start="+x.index].join("/")).set("Authorization",d?d.token:void 0).end((function(e,t){u(!1),t?(console.log(t.body),200===t.statusCode?(s(t.body.data.rebbels),E(t.body.data.total_count)):(S(t.body.reason||"An error has occurred while retrieving the poets from the server"),E(1))):(S("An error has occurred while retrieving the poets from the server"),E(1))}))})),E=function(e){l([]);for(var t=[],n=1;n<=e;n++)t.push(n);l(t)};return Object(a.useEffect)((function(){document.title=["Rebbel Poetry","All Rebbel Poets"].join(": "),x.index||f(Object(w.a)(Object(w.a)({},x),{},{index:1})),T()}),[]),Object(_.jsxs)("div",{className:"page-container",children:[Object(_.jsxs)("div",{className:"page-header",children:[Object(_.jsx)("span",{className:"name",children:"All Rebbels"}),Object(_.jsx)("div",{className:"flex-space"}),Object(_.jsx)("a",{href:"/search?filter=by_rebbel",children:Object(_.jsx)("span",{children:"Filter"})})]}),!v&&Object(_.jsxs)("div",{className:je.a.Poets,children:["1"===x.index&&Object(_.jsx)(de,{poet:{display_name:"Anonymous",username:"anonymous"}}),n.map((function(e){return Object(_.jsx)(de,{poet:e},e._id)}))]}),v&&Object(_.jsx)("div",{children:Object(_.jsxs)("h2",{style:{textAlign:"center"},children:[v," \u2014"," ",Object(_.jsx)("a",{style:{fontSize:"50px",color:"white",userSelect:"none"},onClick:function(){return T()},children:"Try this again."})]})}),!!c.length&&Object(_.jsxs)("div",{className:"more-pages",children:[Object(_.jsx)("div",{className:"more-pages-title",children:"More Rebbels"}),Object(_.jsx)("div",{className:"more-pages-links",children:c.map((function(e){return Object(_.jsx)("a",{href:["/rebbels?index=",e].join(""),"data-isactive":e.toString()===x.index,children:e},e)}))})]})]})},me=n(17),Pe=n.n(me),Oe=function(){var e=Object(j.i)(),t=O().userSession,n=J().setIsLoaderVisible,a=o.a.useState(null),s=Object(h.a)(a,2),i=s[0],r=s[1],c=o.a.useCallback((function(){return new Promise((function(a,o){t&&t.username===e.poet||(n(!0),k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"rebbels",e.poet].join("/")).end((function(e,t){n(!1),t&&200===t.statusCode&&a(t.body.data)})))}))}));return o.a.useEffect((function(){c().then((function(e){r(e),console.log(e)}))}),[]),i&&Object(_.jsxs)("div",{className:"page-container",children:[Object(_.jsxs)("div",{className:Pe.a.ProfilePage,children:[Object(_.jsx)("div",{className:Pe.a.ProfileAvatarContainer,children:Object(_.jsx)("div",{className:Pe.a.ProfileAvatar,style:{backgroundImage:"url(".concat(i.display_photo,")")}})}),Object(_.jsxs)("div",{className:Pe.a.PageContents,children:[Object(_.jsxs)("div",{className:Pe.a.ProfileName,children:[Object(_.jsxs)("span",{className:Pe.a.Name,children:[i.display_name," ",t&&t.username===i.username?"(Me)":""]}),Object(_.jsx)("span",{className:Pe.a.ProfleVerificationSign})]}),Object(_.jsxs)("div",{className:Pe.a.ProfileBiography,children:[Object(_.jsx)("span",{children:i.biography}),t&&t.username===i.username?0!==i.biography.length?Object(_.jsx)(u.b,{className:Pe.a.ProfileBiographyEditButton,children:"Edit"}):Object(_.jsx)(u.b,{className:Pe.a.ProfileBiographyEditButton,style:{transform:"translateX(-20px)"},children:"Add a biography"}):""]}),Object(_.jsxs)("div",{className:Pe.a.ProfileHeaderButtons,children:[t&&t.username===i.username?"":Object(_.jsx)("button",{className:"outline",children:"Follow Rebbel"}),t&&t.username===i.username?Object(_.jsx)("button",{className:"outline",children:"Share your profile"}):Object(_.jsx)("button",{className:"outline",children:"Share Profile"}),t&&t.username===i.username?"":Object(_.jsx)("button",{className:"outline",children:"Collaborate"})]}),Object(_.jsxs)("div",{className:Pe.a.ProfileStats,children:[Object(_.jsxs)(u.b,{children:[Object(_.jsx)("b",{children:i.poems.length})," Poems Published"]}),Object(_.jsxs)(u.b,{children:[Object(_.jsx)("b",{children:i.followers.length})," Followers"]}),Object(_.jsxs)(u.b,{children:[Object(_.jsx)("b",{children:i.follows.length})," Follows"]})]})]})]}),Object(_.jsx)("div",{className:Pe.a.PoetProfileContents,children:i.poems.length?i.poems.map((function(e){return Object(_.jsx)(L,{poemId:e})})):Object(_.jsxs)("h1",{children:[i.display_name," has not published any poems yet."]})})]})},pe=n(25),xe=n.n(pe),fe=function(e){var t,n,a,s,i=e.poemData,r=o.a.useState([]),c=Object(h.a)(r,2),l=c[0],d=c[1];return o.a.useEffect((function(){i&&(void 0!==i.author?H.getPoemAuthors([i.author].concat(Object(v.a)(i.featured_poets))).then((function(e){console.log(e),d(e)})):d([{display_name:"Anonymous",username:"anonymous"}]))}),[i]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:xe.a.PoemPageHeader,children:Object(_.jsx)("div",{className:xe.a.BackgroundDiffuser,children:Object(_.jsxs)("div",{className:xe.a.PoemInformationContainer,children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:xe.a.PoemThumbnailImage,style:{backgroundImage:"url(".concat(i.thumbnail,")")},children:Object(_.jsx)("div",{className:xe.a.PlayPauseButton})})}),Object(_.jsxs)("div",{className:xe.a.PoemDetailsContainer,children:[Object(_.jsx)("h2",{className:xe.a.PoemTitle,children:null===i||void 0===i?void 0:i.title}),Object(_.jsxs)("div",{className:xe.a.PoemAuthor,children:["Written by ",Object(_.jsx)(u.b,{to:"/rebbels/@".concat(null===(t=l[0])||void 0===t?void 0:t.username),children:null===(n=l[0])||void 0===n?void 0:n.display_name})]}),Object(_.jsx)("table",{className:xe.a.PoemMetadataItems,children:Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Read time"}),Object(_.jsx)("td",{children:Object(_.jsx)(u.b,{children:null===i||void 0===i?void 0:i.read_time})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Word count"}),Object(_.jsxs)("td",{children:[(null===i||void 0===i||null===(a=i.body)||void 0===a?void 0:a.split(" ").length)||0," words"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Published on"}),Object(_.jsx)("td",{children:Object(_.jsx)(u.b,{children:null===i||void 0===i||null===(s=i.time_created)||void 0===s?void 0:s.day})})]})]})})]}),Object(_.jsx)("div",{className:xe.a.PoemStats,children:Object(_.jsx)("div",{})})]})})})})},ge=n(23),Ne=n.n(ge),ve=function(){var e=J().setIsLoaderVisible,t=J().showToast,n=o.a.useRef(),a=o.a.useRef(),s=o.a.useState(0),i=Object(h.a)(s,2),r=i[0],c=(i[1],o.a.useRef()),l=Object(j.i)(),d=o.a.useState({}),u=Object(h.a)(d,2),m=u[0],P=u[1];return o.a.useEffect((function(){e(!0),k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"poems",l.poemId].join("/")).end((function(n,a){e(!1),a?200===a.status?(P(a.body.data),document.title=["Rebbel Poetry",": ",a.body.data.title].join("")):(t(a.body.reason||"Something went wrong."),P(null)):(t("You're not connected with the internet."),P(null))}))}),[]),o.a.useEffect((function(){var e=window.addEventListener("scroll",(function(e){var t=window.scrollY,o=n.current.getBoundingClientRect();o.y-t<=0?(a.current.style.position="fixed",a.current.style.top="200px"):(a.current.style.position="absolute",a.current.style.top="0px"),t>o.bottom+200?a.current.style.opacity=0:a.current.style.opacity=1}));return function(){return window.removeEventListener("scroll",e)}}),[m]),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:Ne.a.PoemPageContainer,children:[Object(_.jsx)(fe,{poemData:m}),Object(_.jsxs)("div",{className:Ne.a.PoemContents,children:[Object(_.jsxs)("div",{className:Ne.a.PoemSplitSides,children:[Object(_.jsxs)("div",{className:Ne.a.SideButtons,ref:a,children:[Object(_.jsxs)("button",{title:"Users currently reading this poem.",children:[Object(_.jsx)(b.a,{name:"eye-outline"}),Object(_.jsx)("span",{className:"count",children:m.views_count})]}),Object(_.jsxs)("button",{className:Ne.a.Bookmark,children:[Object(_.jsx)(b.a,{name:"bookmark-outline"}),Object(_.jsx)("span",{className:"count",children:m.bookmarks_count})]}),Object(_.jsxs)("button",{className:Ne.a.Heart,children:[Object(_.jsx)(b.a,{name:"flame"}),Object(_.jsx)("span",{className:"count",children:m.likes_count})]}),Object(_.jsxs)("button",{className:Ne.a.Share,children:[Object(_.jsx)(b.a,{name:"share-outline"}),Object(_.jsx)("span",{className:"count",children:m.shares_count})]})]}),Object(_.jsx)("div",{className:Ne.a.PoemTextContainer,ref:n,children:m.body}),Object(_.jsx)("div",{className:Ne.a.AnnotationsContainer,style:{translate:"translateY(".concat(r,"px)")},ref:c,children:"In rememberence of the late first Black President, Nelson Mandela. This praise is meant to remind South Africans about the unity of one."})]}),Object(_.jsxs)("div",{className:Ne.a.PoemTags,children:[Object(_.jsx)("span",{children:"Tags"}),Object(_.jsx)("a",{href:"#tag",className:"tag",children:"African Struggle"}),Object(_.jsx)("a",{href:"#tag",className:"tag",children:"Black"}),Object(_.jsx)("a",{href:"#tag",className:"tag",children:"Apartheid"}),Object(_.jsx)("a",{href:"#tag",className:"tag",children:"Wisdom"})]}),Object(_.jsx)("div",{className:Ne.a.RecommendedPoems,children:Object(_.jsx)("h1",{children:"Discover More"})})]})]})})},Se=n(46),Te=n.n(Se),Ee=function(){var e=o.a.useState(""),t=Object(h.a)(e,2),n=(t[0],t[1]),s=o.a.useState([]),i=Object(h.a)(s,2),r=i[0],c=i[1],l=J().setIsLoaderVisible,d=ae().showToast;return Object(a.useEffect)((function(){document.title=["Rebbel Poetry","Search"].join(": ")}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"page-container",children:[Object(_.jsx)("h1",{className:Te.a.PageTitle,children:"Search"}),Object(_.jsxs)("div",{className:Te.a.SearchInputContainer,children:[Object(_.jsx)("input",{className:Te.a.LargeSearchInput,type:"text",placeholder:"Search for Rebel Poems / Poets",onKeyUp:function(e){return n(e.target.value)}}),Object(_.jsx)("div",{className:Te.a.SearchButton,onClick:function(){l(!0),d("Oops. Could not connect."),setTimeout((function(){return l(!1)}),5e3),c([])},children:Object(_.jsx)(b.a,{name:"arrow-forward-sharp"})})]}),!!r.length]})})},Ae=n(24),Ce=n.n(Ae),ye=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:Ce.a.Footer,children:[Object(_.jsxs)("section",{className:Ce.a.LeftSection,children:[Object(_.jsx)("img",{src:r,alt:""}),Object(_.jsx)("a",{className:Ce.a.BrandName,href:"/",children:"Rebbel Poetry"}),Object(_.jsxs)("div",{className:Ce.a.Legal,children:["All poems on this site are part of copyrights of their respective poets. All content on this site is published here under"," ",Object(_.jsx)("a",{href:"https://creativecommons.org/licenses/",target:"_blank",children:"Creative Commons License"}),"."]})]}),Object(_.jsxs)("section",{className:Ce.a.FirstMiddleSection,children:[Object(_.jsx)("div",{className:Ce.a.SectionName,children:"Navigation"}),Object(_.jsx)(u.b,{to:"/",children:"Top Ranked Poems"}),Object(_.jsx)(u.b,{to:"/poets",children:"Top Rebel Poets"}),Object(_.jsx)(u.b,{to:"/my_drafts",children:"View your Drafts"}),Object(_.jsx)(u.b,{to:"/feeling_lucky",children:"I'm Feeling Lucky"}),Object(_.jsx)(u.b,{to:"/search",children:"Search Poems"})]}),Object(_.jsxs)("section",{className:Ce.a.SecondMiddleSection,children:[Object(_.jsx)("div",{className:Ce.a.SectionName,children:"Poems"}),Object(_.jsx)(u.b,{to:"/",children:"All Poems"}),Object(_.jsx)(u.b,{to:"/",children:"Poem By Language"}),Object(_.jsx)(u.b,{to:"/",children:"Explore All Poets"}),Object(_.jsx)(u.b,{to:"/",children:"Competitions"})]}),Object(_.jsxs)("section",{className:Ce.a.SecondMiddleSection,children:[Object(_.jsx)("div",{className:Ce.a.SectionName,children:"General"}),Object(_.jsx)(u.b,{to:"/",children:"Donate"}),Object(_.jsx)(u.b,{to:"/",children:"About Us"}),Object(_.jsx)(u.b,{to:"/",children:"Licensing"}),Object(_.jsx)(u.b,{to:"/",children:"Legal"})]})]}),Object(_.jsx)("div",{className:Ce.a.Attribution,children:"Rebel Poets (Pty) Ltd. Copyright (c) 2020. All right reserved."})]})},Re=n(4),De=n(77),Ie=n.n(De),we=function(){var e=O().setUserSession,t=Object(j.g)();Object(a.useEffect)((function(){document.title=["Rebbel Poetry","Create an account"].join(": ")}),[]);var n=Object(a.useState)({email_address:"",display_name:"",password:""}),o=Object(h.a)(n,2),s=o[0],i=o[1],r=Object(a.useState)(""),c=Object(h.a)(r,2),l=c[0],d=c[1],b=function(e){e.target.name&&i(Object(w.a)(Object(w.a)({},s),{},Object(Re.a)({},e.target.name,e.target.value)))};return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"page-container",children:Object(_.jsxs)("form",{onSubmit:function(n){n.preventDefault(),d(""),s.email_address&&s.display_name&&s.password?k.post([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"rebbels"].join("/")).send(s).end((function(n,a){a?200===a.statusCode?(U("AUTH_TOKEN",a.body.data.token),e(a.body.data),t.push("/")):208===a.statusCode&&d("Account with that email address already exists. Please sign in if this is your account."):d("You are not connected to the internet. Please check your connection and try again.")})):d("All fields are mandatory, please make sure you fill every field to create an account.")},className:"form",children:[Object(_.jsx)("h1",{children:"Join Rebbels"}),l?Object(_.jsxs)("p",{className:[Ie.a.ResponseError,"danger"].join(" "),children:[" ",Object(_.jsx)("b",{children:l})," "]}):"",Object(_.jsx)("input",{type:"text",placeholder:"Email address",name:"email_address",onKeyUp:b}),Object(_.jsx)("input",{type:"text",placeholder:"Your name",name:"display_name",onKeyUp:b}),Object(_.jsx)("input",{type:"password",placeholder:"Enter a password",name:"password",onKeyUp:b}),Object(_.jsx)("button",{type:"submit",children:"Become a Member"}),Object(_.jsxs)("p",{children:["We are glad to have you onboard, by creating an account you agree to our ",Object(_.jsx)(u.b,{to:"",children:"Terms and Conditions"}),". If you are already a member you can ",Object(_.jsx)(u.b,{to:"/sign_in",children:"Sign in to your account."})]})]})})})},ke=function(){var e=o.a.useState(""),t=Object(h.a)(e,2),n=t[0],a=t[1],s=O().setUserSession,i=Y().setUserToken,r=o.a.useState({username:"",password:""}),c=Object(h.a)(r,2),l=c[0],d=c[1],b=Object(j.g)(),m=function(e){e.target.name&&d(Object(w.a)(Object(w.a)({},l),{},Object(Re.a)({},e.target.name,e.target.value)))};return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsx)("div",{className:"page-container",children:Object(_.jsxs)("form",{action:"",className:"form",onSubmit:function(e){if(e.preventDefault(),a(""),l.username&&l.password){var t=["Basic",btoa([l.username,l.password].join(":"))].join(" ");k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"rebbels/authentication"].join("/")).set("Authorization",t).end((function(e,t){t?(alert(t.statusCode),200===t.statusCode?(U("AUTH_TOKEN",t.body.data.token),s(t.body.data),i(t.body.data.token),b.push("/")):a(t.body.reason||"Something went wrong. Please try again, contact us if error persists.")):a("No internet, please check your connection and try again.")}))}else a("All fields are required. Please make sure they are all filled.")},children:[Object(_.jsx)("h1",{children:"Login"}),n&&Object(_.jsx)("p",{className:"danger",children:n}),Object(_.jsx)("input",{type:"text",placeholder:"Your email or username",name:"username",onKeyUp:m}),Object(_.jsx)("input",{type:"password",placeholder:"Password",name:"password",onKeyUp:m}),Object(_.jsx)("button",{children:"Sign In to your Account"}),Object(_.jsxs)("p",{children:["By signing in you agree to out"," ",Object(_.jsx)(u.b,{to:"",children:"Terms and Conditions"}),". If you don't have an account you can ",Object(_.jsx)(u.b,{to:"/sign_up",children:"create one here."})]})]})})})},He=(n(149),function(){var e=o.a.useState([]),t=Object(h.a)(e,2),n=t[0],a=t[1],s=ae().showToast,i=Y();return o.a.useEffect((function(){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"drafts"].join("/")).set("Authorization",i.userToken).end((function(e,t){t?200===t.status?a(t.body.data):s(t.reason||"Something went wrong."):(s("You are not connected to the internet."),a(null))}))}),[]),Object(_.jsxs)("div",{className:"page-container","data-testid":"DraftsPage",children:[null===n&&Object(_.jsx)("div",{children:Object(_.jsxs)("section",{children:[Object(_.jsx)("h1",{children:"Something happened while retrieving your drafts."}),Object(_.jsx)("p",{children:"If this error persists, please contact us and let us know about the issue."})]})}),null!==n&&Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"All Your Drafts"}),Object(_.jsx)(W,{feed:n,isDrafts:!0})]})]})}),Le=(n(150),function(){var e=Object(j.g)(),t=ae().showToast,n=o.a.useState(!1),a=Object(h.a)(n,2),s=a[0],i=a[1];return o.a.useEffect((function(){k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"poems","feeling_lucky"].join("/")).end((function(n,a){a?200===a.status?e.push(["/poem",a.body.data._id].join("/")):(t(a.body.reason||"Something went wrong."),i(!0)):(t("You're are not connected to the internet."),i(!0))}))}),[]),Object(_.jsxs)("div",{className:"page-container",children:[s&&Object(_.jsx)("div",{children:Object(_.jsxs)("section",{children:[Object(_.jsx)("h1",{children:"Something happened while retrieving a random poem."}),Object(_.jsx)("p",{children:"If this error persists, please contact us and let us know about the issue."})]})}),!s&&Object(_.jsx)("div",{children:Object(_.jsxs)("section",{style:{textAlign:"center"},children:[Object(_.jsx)("h1",{style:{marginBottom:"20px"},children:"Let's spoil up!"}),Object(_.jsx)(q,{})]})})]})}),Be=(n(151),function(e){var t=e.children,n=O().setUserSession,a=J().setIsLoaderVisible,s=Object(j.g)(),i=Y().userToken;return o.a.useEffect((function(){i&&k.get([Object({NODE_ENV:"production",PUBLIC_URL:"/rebbelpoetry.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_ENDPINT:"https://apis.rebbelpoetry.co/api",REACT_APP_NAME:"Rebbel Poetry"}).REACT_APP_API_ENDPOINT,"rebbels","reauthenticate"].join("/")).set("Authorization",i).end((function(e,t){a(!1),t&&(200===t.statusCode?n(t.body.data):(404===t.statusCode?console.log("Not found."):403===t.statusCode?console.log("Unauthorized."):510===t.statusCode?console.log("Session expired."):console.log("Something went wrong."),K("AUTH_TOKEN"),console.log("Restart."),s.push("/sign_in")))}))}),[]),Object(_.jsx)(_.Fragment,{children:t})}),Fe=n(26),We=n.n(Fe),Ue=n(78),Ke=n.n(Ue),Ve=n(85),Me=n(31),Ye=n.n(Me),ze=n(83),Ge=n(84),qe=function(e){var t=e.data,n=(e.token,e.isPublished),a=Y().userToken,s=J(),i=s.isLoaderVisible,r=s.setIsLoaderVisible,c=o.a.useState(0),l=Object(h.a)(c,2),d=(l[0],l[1]),b=o.a.createRef();return o.a.useState((function(){window.addEventListener("resize",(function(){var e=document.getElementById("draft-container");e&&d(e.innerWidth),console.log(e)}))}),[]),Object(_.jsxs)("div",{className:Ye.a.DraftPreview,id:"draft-container",children:[Object(_.jsxs)("div",{className:Ye.a.DraftTitle,children:[t.title||"No title entered yet."," (preview)"]}),Object(_.jsxs)("div",{className:Ye.a.DraftSplitSides,children:[Object(_.jsx)("div",{className:Ye.a.DraftContents,children:Object(_.jsx)(ze.a,{children:t.body,plugins:[Ge.a]})}),Object(_.jsx)("div",{className:Ye.a.DraftAnnotations,children:"Click on an annotation to read it's description"})]}),Object(_.jsxs)("div",{className:Ye.a.BottomButtons,children:[Object(_.jsx)("input",{placeholder:"Comma seperated Tags, eg. Love, Teenagers, Fun",ref:b}),Object(_.jsx)("button",{disabled:i,className:"primary",onClick:function(){r(!0),H.publish(t,b.current.value,a).then((function(e){r(!1),n(e.toUpperCase())}))},children:"Publish Poem"})]})]})};var Ze=function(){var e=Y().userToken,t=J().setIsLoaderVisible,n=ae().showToast,a=o.a.useState(!1),s=Object(h.a)(a,2),i=s[0],r=s[1],c=Object(j.g)(),l=o.a.useState({did:"",title:"",body:"",thumbnail:"",tags:[],featured_poets:[],is_anonymous:!1,time_created:(new Date).toISOString(),is_created:!1}),d=Object(h.a)(l,2),m=d[0],P=d[1],O=o.a.useState(null),p=Object(h.a)(O,2);p[0],p[1],o.a.useState((function(){document.title=["Rebbel Poetry","New Poem"].join(": ");var t=he.a.parse(c.location.search,{ignoreQueryPrefix:!0}),n=Object(Ve.a)().toUpperCase();t.draft_id?(P(Object(w.a)(Object(w.a)({},m),{},{did:t.draft_id})),H.getDraft(t.draft_id,e).then((function(e){console.log("Found draft:",e),P({did:t.draft_id,thumbnail:e.thumbnail,title:e.title,body:e.body,featured_poets:e.featured_poets,time_created:e.time_created.toString(),is_anonymous:e.is_anonymous,is_created:!0})})).catch((function(e){return console.log(e)}))):(P(Object(w.a)(Object(w.a)({},m),{},{did:n})),c.push([c.location.pathname,"?draft_id=",n].join("")))}),[]);var x=function(e){var t={name:e.target.name,value:e.target.value};P(Object(w.a)(Object(w.a)({},m),{},Object(Re.a)({},t.name,t.value)))},f=o.a.useRef();return o.a.useEffect((function(){}),[]),Object(_.jsxs)("div",{className:We.a.PageContainer,children:[Object(_.jsx)(Ke.a,{isOpen:i,onRequestClose:function(){return r(!1)},style:{overlay:{zIndex:6e4},content:{width:"50%",margin:"auto",borderRadius:"0px",border:"3px solid black"}},children:Object(_.jsx)(qe,{data:m,isPublished:function(e){r(!1),c.push(["/poem/",e].join(""))},token:e})}),Object(_.jsxs)("div",{className:We.a.NewPoemHeaderContainer,style:{backgroundImage:"url(".concat(m.thumbnail,")")},children:[Object(_.jsxs)("div",{className:We.a.NewPoemImageContainer,children:[Object(_.jsx)("input",{type:"file",ref:f,onChange:function(){if(f.current.files.length){var t=new FileReader;t.onloadend=function(){return P(Object(w.a)(Object(w.a)({},m),{},{thumbnail:t.result}))},t.readAsDataURL(f.current.files[0]),H.uploadThumbnail(f.current.files[0],e).then((function(t){P(Object(w.a)(Object(w.a)({},m),{},{thumbnail:t.large})),H.updateDraft(m,e)}))}},accept:"image/png, image/jpg, image/jpeg, image/gif, image/webp, image/bmp",hidden:!0}),Object(_.jsx)("div",{className:We.a.NewPoemImageSelector,onClick:function(){return f.current.click()},style:{backgroundImage:"url(".concat(m.thumbnail,")")},children:Object(_.jsx)(b.a,{name:"add-sharp"})})]}),Object(_.jsxs)("div",{className:We.a.NewPoemDetails,children:[Object(_.jsx)("textarea",{className:We.a.NewPoemTitle,autoFocus:!0,name:"title",rows:m.title.split("\n").length,onChange:x,value:m.title,placeholder:"Poem title"}),Object(_.jsxs)("span",{children:["Currently syncing edits to"," ",Object(_.jsxs)("a",{href:"/your_drafts",target:"_blank",referrerPolicy:"no-referrer",children:["Draft (",m.did,")"]}),"."]}),Object(_.jsx)("table",{className:We.a.PoemMetadataItems,children:Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Written by"}),Object(_.jsx)("td",{children:Object(_.jsx)("span",{className:"link",onClick:function(){return P(Object(w.a)(Object(w.a)({},m),{},{is_anonymous:!m.is_anonymous}))},children:m.is_anonymous?"Anonymous":"Yourself"})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Features"}),Object(_.jsx)("td",{children:Object(_.jsx)(u.b,{children:"Add a rebbel"})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Created on"}),Object(_.jsx)("td",{children:Object(_.jsx)(u.b,{children:m.time_created})})]})]})}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:"flex",children:[Object(_.jsx)("button",{onClick:function(){t(!0),H.updateDraft(m,e).then((function(){n("Draft saved."),t(!1)})).catch((function(){return t(!1)}))},children:"Save Draft"}),Object(_.jsx)("button",{className:"outline",onClick:function(){t(!0),H.updateDraft(m,e).then((function(){t(!1),r(!0)})).catch((function(e){console.log("Error something went wrong."),t(!1)}))},children:"Preview and Publish"})]})]})]}),Object(_.jsx)("div",{className:We.a.NewPoemContentsContainer,children:Object(_.jsx)("textarea",{placeholder:"Type your poem body here...",rows:m.body.split("\n").length,name:"body",onChange:x,value:m.body})})]})};var Qe=function(){var e=O().userSession;return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsx)(ne,{children:Object(_.jsx)(M,{children:Object(_.jsx)(P,{children:Object(_.jsx)(x,{children:Object(_.jsx)(Q,{children:Object(_.jsx)(u.a,{children:Object(_.jsxs)(Be,{children:[Object(_.jsx)(N,{}),Object(_.jsxs)(j.d,{children:[Object(_.jsx)(j.b,{path:"/new_poem",children:Object(_.jsx)(Ze,{userSession:e})}),Object(_.jsx)(j.b,{exact:!0,path:"/",children:Object(_.jsx)(j.a,{to:"/discover"})}),Object(_.jsx)(j.b,{path:"/discover",children:Object(_.jsx)(oe,{})}),Object(_.jsx)(j.b,{exact:!0,path:"/rebbels",children:Object(_.jsx)(_e,{})}),Object(_.jsx)(j.b,{path:"/rebbels/@:poet",children:Object(_.jsx)(Oe,{})}),Object(_.jsx)(j.b,{path:"/your_drafts",children:Object(_.jsx)(He,{})}),Object(_.jsx)(j.b,{path:"/feeling_lucky",children:Object(_.jsx)(Le,{})}),Object(_.jsx)(j.b,{path:"/poem/:poemId",children:Object(_.jsx)(ve,{})}),Object(_.jsx)(j.b,{path:"/search",children:Object(_.jsx)(Ee,{})}),Object(_.jsx)(j.b,{path:"/sign_up",children:Object(_.jsx)(we,{})}),Object(_.jsx)(j.b,{path:"/sign_in",children:Object(_.jsx)(ke,{})}),Object(_.jsx)(j.b,{path:"*",children:Object(_.jsx)(re,{})})]}),Object(_.jsx)(ye,{})]})})})})})})})})},Je=(n(163),function(e){e&&e instanceof Function&&Promise.resolve().then(n.bind(null,163)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),s(e),i(e)}))});i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(Qe,{})}),document.getElementById("root")),Je()},17:function(e,t,n){e.exports={ProfilePage:"PoetProfile_ProfilePage__3EHfO",PageContents:"PoetProfile_PageContents__r-u8b",ProfileAvatar:"PoetProfile_ProfileAvatar__2wH_s",ProfileName:"PoetProfile_ProfileName__pBmrO",Name:"PoetProfile_Name__3iNLf",ProfileBiography:"PoetProfile_ProfileBiography__2A4pG",ProfileHeaderButtons:"PoetProfile_ProfileHeaderButtons__dhG6E",ProfileStats:"PoetProfile_ProfileStats__3S3gE",PoetProfileContents:"PoetProfile_PoetProfileContents__J1aos"}},23:function(e,t,n){e.exports={PoemPageContainer:"PoemPage_PoemPageContainer__1CarM",PoemContents:"PoemPage_PoemContents__371ti",PoemSplitSides:"PoemPage_PoemSplitSides__3WBGw",PoemTextContainer:"PoemPage_PoemTextContainer__1JETF",AnnotationsContainer:"PoemPage_AnnotationsContainer__Fzloh",SideButtons:"PoemPage_SideButtons__ugz1G",Eye:"PoemPage_Eye__3WqdT",Heart:"PoemPage_Heart__CcMDg",Bookmark:"PoemPage_Bookmark__2Sv34",PoemInformation:"PoemPage_PoemInformation__dnvQ3",PoemTags:"PoemPage_PoemTags__dFrKg"}},24:function(e,t,n){e.exports={Footer:"Footer_Footer__37hEc",BrandName:"Footer_BrandName__3Ln1q",Legal:"Footer_Legal__1pCYr",LeftSection:"Footer_LeftSection__cesUv",SectionName:"Footer_SectionName__21QzB",Attribution:"Footer_Attribution__12EnI"}},25:function(e,t,n){e.exports={PoemPageHeader:"PoemPageHeader_PoemPageHeader__1YcZt",BackgroundDiffuser:"PoemPageHeader_BackgroundDiffuser__1lEzy",PoemInformationContainer:"PoemPageHeader_PoemInformationContainer__2l3Cz",PoemThumbnailImage:"PoemPageHeader_PoemThumbnailImage__ne5WI",PoemDetailsContainer:"PoemPageHeader_PoemDetailsContainer__10FpI",PoemTitle:"PoemPageHeader_PoemTitle__29a6A",PoemDescription:"PoemPageHeader_PoemDescription__1S9Wg",PoemMetadataItems:"PoemPageHeader_PoemMetadataItems__1Vaym"}},26:function(e,t,n){e.exports={NewPoemHeaderContainer:"NewPoem_NewPoemHeaderContainer__t4L9L",link:"NewPoem_link__1Bamm",NewPoemImageSelector:"NewPoem_NewPoemImageSelector__2Gq2Z",NewPoemDetails:"NewPoem_NewPoemDetails__Kwqin",NewPoemTitle:"NewPoem_NewPoemTitle__pxTax",NewPoemContentsContainer:"NewPoem_NewPoemContentsContainer__1ebla"}},29:function(e,t,n){e.exports={PoemInputContainer:"PoemPostInput_PoemInputContainer__1qw88",PoemInputTitle:"PoemPostInput_PoemInputTitle__2oLmn",PoemInput:"PoemPostInput_PoemInput__3YoN7",PoemTagsInput:"PoemPostInput_PoemTagsInput__26EWh",Buttons:"PoemPostInput_Buttons__3AFZM"}},31:function(e,t,n){e.exports={DraftPreview:"DraftPreview_DraftPreview__yNm0A",DraftTitle:"DraftPreview_DraftTitle__3RCXC",DraftSplitSides:"DraftPreview_DraftSplitSides__1j1y-",DraftContents:"DraftPreview_DraftContents__1rRku",DraftAnnotations:"DraftPreview_DraftAnnotations__1vh4N",BottomButtons:"DraftPreview_BottomButtons__19wR1"}},38:function(e,t,n){e.exports={Poem:"Poem_Poem__LY0gH",PoemContents:"Poem_PoemContents__17jo4",PoemTitle:"Poem_PoemTitle__12qQa",PoemAuthor:"Poem_PoemAuthor__3PQCX",PoemSnapshot:"Poem_PoemSnapshot__1Ggzi"}},44:function(e,t,n){e.exports={flex:"Header_flex__1xcfe","space-between":"Header_space-between__u85w8","flex-space":"Header_flex-space__ye-2W",clickable:"Header_clickable__191kM",Banner:"Header_Banner__1GWR_",HeaderContainer:"Header_HeaderContainer__F-Ur3",Header:"Header_Header__2C_Ub",HeaderBrandLogo:"Header_HeaderBrandLogo__2PZZA"}},45:function(e,t,n){e.exports={Loader:"Loader_Loader__3w7V8",FirstCircle:"Loader_FirstCircle__1fzNt",FirstCircleBlink:"Loader_FirstCircleBlink__1qLd-",SecondCircle:"Loader_SecondCircle__YfdMW",SecondCircleBlink:"Loader_SecondCircleBlink__1a2nU",BlendGroup:"Loader_BlendGroup__1AEZI"}},46:function(e,t,n){e.exports={PageTitle:"SearchPage_PageTitle__3czwG",SearchInputContainer:"SearchPage_SearchInputContainer__1ixej",LargeSearchInput:"SearchPage_LargeSearchInput__2nEZh",SearchButton:"SearchPage_SearchButton__3x0_t"}},53:function(e,t,n){e.exports={Poet:"Poet_Poet__1iqH7",PoetAvatar:"Poet_PoetAvatar__Qvcdq",PoetName:"Poet_PoetName__1MMec"}},63:function(e,t,n){e.exports={Toast:"Toast_Toast__1az6l",CloseButton:"Toast_CloseButton__Gj3ID"}},74:function(e,t,n){e.exports={PoemsGrid:"PoemsList_PoemsGrid__DvbAG"}},75:function(e,t,n){e.exports={NotFoundPage:"NotFoundPage_NotFoundPage__2pL1I"}},76:function(e,t,n){e.exports={Poets:"PoetsPage_Poets__39bvA"}},77:function(e,t,n){},92:function(e,t,n){}},[[164,1,2]]]);
//# sourceMappingURL=main.7313d45d.chunk.js.map